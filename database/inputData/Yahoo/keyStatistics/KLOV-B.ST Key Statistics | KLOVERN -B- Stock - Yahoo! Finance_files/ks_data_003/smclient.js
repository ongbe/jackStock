!function(e,t,n){"use strict";function i(e){var t=new Image;t.src=e}function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function d(e,t){return s(t)&&s(e)?"&"+e+"="+t:""}function s(e){return e!==n&&""!==e&&null!==e}function a(e,t){/complete|interactive|loaded/.test(ie.document.readyState)?t.apply():e.addEventListener?e.addEventListener("DOMContentLoaded",t,!1):e.attachEvent&&e.attachEvent("onreadystatechange",function(){"complete"===e.readyState&&t.apply()})}function u(){var t=function(e,t,n){this.id=e,this.name=t,this.regexp=n};t.prototype.getName=function(){return this.name},t.prototype.getId=function(){return this.id},t.prototype.getRegexp=function(){return this.regexp};var n=new t("NA","UNKNOWN_DEVICE",new RegExp("")),i=new t("m","MOBILE",new RegExp("fennec/|mobile|phone|iphone|ipod|blackberry|playbook|bb10|android|palm|windows\\s+ce|s60;\\ssymbos|series\\s60|series40|samsung-gt-|sonyericsson|nokia|samsung\\sgt|nokia|maui\\sruntime|j2me/midp|brew|docomo/[\\d]+.[\\d]+|mi\\s3w\\smiui|maui\\swap\\sbrowser")),o=new t("t","TABLET",new RegExp("hudl ht7s3 build|kindle( |/)|ipad|tablet|playbook|smart\\stab|gt-n8000|gt-n8013|gt-p[\\d][\\d][\\d][\\d]|me371mg|nexus\\s(7|8|9|[\\d][\\d])\\sbuild/|sm-t[\\d][\\d][\\d]|\\ssgp[\\d][\\d][\\d] build/|touchpad build|venue7\\s[\\d][\\d][\\d][\\d]\\s|gt-n5100 build|lenovoa3300[-]hv|kfjwi\\sbuild/|shw-m\\d\\d\\d[a-z]\\sbuild/|smarttab10-|sony\\stablet\\s(s|p)\\s|huawei\\smediapad\\sbuild|thinkpad\\stablet\\s|vodafone\\ssmarttab|(kfapwa|kfapwi|kfarwi|kfaswi|kfjwa|kfjwi|kfot|kfsawa|kfsawi|kfsowi|kfthwa|kfthwi|kftt)\\sbuild|ideatab\\s|mediapad\\s[\\d]+\\slite\\sbuild|mid\\d\\d\\d\\d\\sbuild/")),d=new t("d","DESKTOP",new RegExp("windows|win([\\d][\\d]|nt)(\\s|;|[)])|windows\\snt\\s\\d[.]\\d|cros;|cros\\s|linux|os\\s+[x9]|solaris|bsd|x11|mac_powerpc|macintosh")),s=function(t){this.deviceType=n,t&&(this.userAgent=t.toLowerCase(),this.deviceType=this.detectDeviceType(),this.userAgent.indexOf("android")>-1&&this.userAgent.indexOf("mobile")>-1&&this.deviceType.getId()!==o.getId()&&(this.deviceType=i),this.deviceType.getId()===d.getId()&&"ontouchstart"in e&&(this.deviceType=n))};s.deviceListPriority=[o,i,d,n],s.prototype.detectDeviceType=function(){for(var e=s.deviceListPriority,t=0;t<e.length;t++)if(e[t].getRegexp().test(this.userAgent))return e[t];return n},s.prototype.getDeviceType=function(){return this.deviceType};var a=new s(navigator.userAgent);return a.getDeviceType().getId()}function c(){function e(e){var t="visible",n="hidden",i={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n};e=e||ie.event;var o;o=e.type in i?i[e.type]:ie.document.hidden?n:t,o===t?(x(),h()):(k(),p())}var t="hidden",i=ie.document;t in i?i.addEventListener("visibilitychange",e):(t="mozHidden")in i?i.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in i?i.addEventListener("webkitvisibilitychange",e):(t="msHidden")in i?i.addEventListener("msvisibilitychange",e):"onfocusin"in i?i.onfocusin=i.onfocusout=e:ie.onpageshow=ie.onpagehide=ie.onfocus=ie.onblur=e,i.hidden!==n&&e({type:i.hidden?"blur":"focus"})}function r(){return P+"?"+d("cid",C)+d("r",B)+d("t",ne)+d("s",encodeURIComponent(JSON.stringify($)))}function m(){return"m"===ne||"t"===ne}function l(){if($.length>0){var e=r();i(e),v(),setTimeout(l,K)}else setTimeout(l,q)}function f(){Z?y():W=(new Date).getTime(),Z=!1,setTimeout(f,U)}function h(){Z=!0}function p(){Z=!1}function g(){y();var e=r();i(e),v()}function v(){$.length=0}function y(){var e=b();"object"==typeof e&&null!==e&&$.push(e.s,e.v,e.t),W=(new Date).getTime()}function b(){var e=new Date,t=e.getTime()-W;if(m()){var n=R/j,i=S/j;return 1>n&&1>i&&t>0&&G>t?{s:Math.round(1e5*n)/1e5,v:Math.round(1e5*i)/1e5,t:Math.round(t/100)}:null}return R>=0&&S>F&&G>t?{s:R,v:S,t:Math.round(t/100)}:null}function w(){var e=ie.document;"undefined"!=typeof ie.innerWidth?(A=ie.innerWidth,S=ie.innerHeight):"undefined"!=typeof e.documentElement&&"undefined"!=typeof e.documentElement.clientWidth&&0!==e.documentElement.clientWidth?(A=e.documentElement.clientWidth,S=e.documentElement.clientHeight):(A=e.getElementsByTagName("body")[0].clientWidth,S=e.getElementsByTagName("body")[0].clientHeight)}function E(){j=0,z=0;var e=ie.document;"undefined"!=typeof e.body&&(j=Math.max(e.body.scrollHeight||0,e.body.offsetHeight||0,j),z=Math.max(e.body.scrollWidth||0,e.body.offsetWidth||0,z)),"undefined"!=typeof e.documentElement&&(j=Math.max(e.documentElement.clientHeight||0,e.documentElement.scrollHeight||0,e.documentElement.offsetHeight||0,j),z=Math.max(e.documentElement.clientWidth||0,e.documentElement.scrollWidth||0,e.documentElement.offsetWidth||0,z))}function T(e){var t;return function(){var n=function(){t=null,x()},i=!t;clearTimeout(t),t=setTimeout(n,e),i&&k()}}function k(){var e=new Date;e.getTime()-W>_&&$.length/3<V&&100*Math.random()<N&&y()}function x(){var e=new Date;w(),O=ie.pageXOffset||Q.scrollLeft||Q.scrollTop,R=ie.pageYOffset||Q.scrollTop||Q.scrollLeft,m()&&E(),W=e.getTime()}function L(){try{e.top!=e&&(ie=e.location.href===e.top.location.href?e.top:!1),ne=u(),N=m()?Y:X,"NA"!==ne&&s(P)&&s(C)&&s(B)&&M.heatmap.smStatus2===n||(ee=!1)}catch(t){ee=!1,ie=!1}}function D(){te||(x(),o(ie,"scroll",h),o(ie,"mousemove",h),o(ie,"scroll",T(J)),o(ie,"resize",T(J)),o(ie,"unload",g),c(),f(),l(),te=!0)}function I(){return ie.document.documentElement&&0!==ie.document.documentElement.clientHeight?ie.document.documentElement:ie.document.body}function H(){L(),ie&&ee&&(M.heatmap.smStatus2=1,Q=I(),a(ie.document,D))}var M=e._mNDetails||parent._mNDetails||{};M.heatmap=M.heatmap||{};var N,W,S,A,O,R,j,z,B=M.requrl,C=M.heatmap.cid,P=M.heatmap.scrollMapLogServer,_=M.heatmap.smScrollEventInterval||200,U=M.heatmap.smUserInactivePeriod||5e3,K=M.heatmap.smScrollDataSendInterval||1e4,q=1e3,J=200,V=20,X=95,Y=30,F=100,G=2e4,Q={},Z=!1,$=[],ee=!0,te=!1,ne="NA",ie=e;H()}(window,document);